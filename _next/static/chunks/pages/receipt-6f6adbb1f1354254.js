(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8408:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/receipt",function(){return t(9944)}])},9944:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return O}});var a=t(4924),r=t(6042),o=t(9396),i=t(9534),s=t(1351),c=t(5893),d=t(3312),u=t(7294),l=t(8130),_=t(5253),N=t(4184),x=t.n(N),m=t(599),g=t(3822),f=t(4684),h=t(7639),E=t(1768),p=t(8163),w=t(8057),v=t(2628),C=t(3293),I=t(5950),T=t.n(I),j=t(1664),S=t.n(j);function k(n){var e=n.transactionStatus,t=void 0===e?f.LN.PENDING:e,r=n.txGroupId,o=n.txGroupUrl,i=(0,u.useMemo)((function(){var n;return(n={},(0,a.Z)(n,f.LN.REJECTED,T().failedBackground),(0,a.Z)(n,f.LN.PENDING,T().pendingBackground),(0,a.Z)(n,f.LN.CONFIRMED,T().successBackground),n)[t]}),[t]),s=(0,u.useMemo)((function(){var n;return(n={},(0,a.Z)(n,f.LN.REJECTED,T().iconShadowFailed),(0,a.Z)(n,f.LN.PENDING,T().iconShadowPending),(0,a.Z)(n,f.LN.CONFIRMED,T().iconShadowSuccess),n)[t]}),[t]),d=(0,u.useMemo)((function(){var n;return(n={},(0,a.Z)(n,f.LN.REJECTED,(0,c.jsx)(p.Z,{className:T().svgIcon})),(0,a.Z)(n,f.LN.PENDING,(0,c.jsx)(v.g,{})),(0,a.Z)(n,f.LN.CONFIRMED,(0,c.jsx)(w.Z,{className:T().svgIcon})),n)[t]}),[t]),l=(0,u.useMemo)((function(){return(0,c.jsxs)(c.Fragment,{children:[" ",(0,c.jsx)(S(),{href:o,passHref:!0,children:(0,c.jsx)("a",{target:"_blank",className:"p-1 bg-gray-100 rounded underline text-blue-600",children:(0,C.OV)(r,4)})})," "]})}),[r,o]),_=(0,u.useMemo)((function(){var n;return(n={},(0,a.Z)(n,f.LN.PENDING,(0,c.jsxs)(c.Fragment,{children:["Waiting until transaction group ",l," is confirmed..."]})),(0,a.Z)(n,f.LN.CONFIRMED,(0,c.jsxs)(c.Fragment,{children:["Transaction group ",l," is confirmed."]})),(0,a.Z)(n,f.LN.REJECTED,(0,c.jsxs)(c.Fragment,{children:["Transaction group ",l," is failed to be confirmed. No changes were made."]})),n)[t]}),[t,l]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:T().container,children:[(0,c.jsx)("div",{className:x()(T().iconBackground,i),children:d}),(0,c.jsx)("div",{className:x()(T().iconShadow,s)})]}),(0,c.jsx)("p",{className:"text-gray-900",children:_})]})}var L,R=t(7568),D=t(4051),Z=t.n(D),b=t(2916);var F=(L={},(0,a.Z)(L,f.LN.PENDING,{title:"Waiting for confirmation",subtitle:"Confirmation typically taxes 10 seconds at max",titleClassName:"text-orange-500"}),(0,a.Z)(L,f.LN.CONFIRMED,{title:"Transaction confirmed",subtitle:"This transaction is now irreversible",titleClassName:"text-green-500"}),(0,a.Z)(L,f.LN.REJECTED,{title:"Transaction confirmation failed",subtitle:"This transaction didn\u2019t make it to the blockchain",titleClassName:"text-red-500"}),L);function O(n){n=null!==n?n:(0,s.Z)(new TypeError("Cannot destructure undefined"));var e=(0,h.zj)().state,t=e.txId,N=e.txGroupId,p=(0,i.Z)(e,["txId","txGroupId"]),w=p.redirectUrlFailure,v=p.redirectUrlSuccess,C=p.redirectWaitForConfirmation,I=(0,h.Os)().network,T=(0,u.useMemo)((function(){if(N){var n,e=encodeURIComponent(N);return(n={},(0,a.Z)(n,E.Zc.MainNet,"https://algoexplorer.io/tx/group/".concat(e)),(0,a.Z)(n,E.Zc.TestNet,"https://testnet.algoexplorer.io/tx/group/".concat(e)),n)[I]}}),[I,N]),j=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,e=(0,u.useState)(f.LN.PENDING),t=e[0],a=e[1],r=(0,h.Os)(),o=r.network,i=r.updateAccounts,s=(0,b.z)().state.txId;return(0,u.useEffect)((function(){var e=setInterval((0,R.Z)(Z().mark((function n(){var e,r,c;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s||t!==f.LN.PENDING){n.next=6;break}return n.next=3,(0,f.Lv)({network:o,params:{txId:s}});case 3:e=n.sent,"status"in(r=e.data)&&(c=r.status,a(c),c===f.LN.CONFIRMED&&i());case 6:case"end":return n.stop()}}),n)}))),n);return function(){return clearInterval(e)}}),[o,n,s,t]),{transactionStatus:t}}(1e3).transactionStatus,L=(0,u.useMemo)((function(){var n;return t&&N&&(null===(n=null===v||void 0===v?void 0:v.replace("__txId__",encodeURIComponent(t)))||void 0===n?void 0:n.replace("__txGroupId__",encodeURIComponent(N)))}),[v,t,N]),D=(0,u.useMemo)((function(){return j===f.LN.CONFIRMED&&window&&window.opener&&!w&&!v?"BACK_TO_OPENER":j!==f.LN.CONFIRMED||v?j!==f.LN.REJECTED||w?j===f.LN.CONFIRMED&&v||j===f.LN.REJECTED&&w?"REDIRECT":void 0:"TRY_AGAIN":"BACK_TO_PREV_PAGE"}),[w,v,j]);return(0,c.jsxs)(g.T3,(0,o.Z)((0,r.Z)({className:"flex flex-col justify-center gap-3 items-center py-5"},F[j]),{children:[N&&T&&(0,c.jsx)(k,{transactionStatus:j,txGroupId:N,txGroupUrl:T}),(0,c.jsxs)("div",{className:"inline text-center space-y-4",children:[(0,c.jsx)(_.u,{data:{title:"Share transaction link ",url:T,text:"Transaction link in block explorer"},children:(0,c.jsx)("button",{className:x()("block mx-auto mt-3 border p-2 border-0.5 border-gray-400 rounded-full text-sm text-gray-400","hover:text-gray-600 hover:bg-blue-100 focus:border-blue-400 focus:outline focus:outline-2"),children:(0,c.jsx)(d.Z,{width:30})})}),"BACK_TO_OPENER"===D?(0,c.jsx)(m.zx,{onClick:function(){var n;null===window||void 0===window||null===(n=window.opener)||void 0===n||n.postMessage({txGroupId:N},"*"),null===window||void 0===window||window.close()},children:"Back"}):"BACK_TO_PREV_PAGE"===D?(0,c.jsx)(m.xE,{}):"TRY_AGAIN"===D?(0,c.jsx)(m.xE,{children:"Try again"}):"REDIRECT"===D?(0,c.jsxs)(c.Fragment,{children:[!C&&(0,c.jsxs)(c.Fragment,{children:["You will be redirected in",(0,c.jsx)(l.ZP,{date:new Date(Date.now()+5e3),renderer:function(n){var e=n.seconds;return(0,c.jsx)("span",{className:"text-orange-500",children:" ".concat(e," ").concat(e>1?"seconds":"second")})},onComplete:function(){return null===window||void 0===window?void 0:window.open(j===f.LN.CONFIRMED?L:w,"_self")}}),(0,c.jsx)("br",{}),(0,c.jsx)("p",{className:"mb-6",children:"Click the button below to follow the redirect now."})]}),(0,c.jsx)(S(),{href:(j===f.LN.CONFIRMED?L:w)||"/",passHref:!0,children:(0,c.jsx)(m.ee,{target:"_self",variant:"primary",rel:"noopener noreferrer",children:"Click here to continue"})})]}):null]})]}))}},2628:function(n,e,t){"use strict";t.d(e,{g:function(){return c}});var a=t(5893),r=t(4184),o=t.n(r),i=t(3443),s=t.n(i);function c(n){var e=n.className;return(0,a.jsx)("div",{className:o()(s().container,e),children:(0,a.jsx)("div",{className:s().background,children:(0,a.jsxs)("div",{className:o()(s().loadingContainer),children:[(0,a.jsx)("div",{className:s().item}),(0,a.jsx)("div",{className:s().item}),(0,a.jsx)("div",{className:s().item}),(0,a.jsx)("div",{className:s().item})]})})})}},3443:function(n){n.exports={container:"loading_container__Lyql3",background:"loading_background__AzQcN",animateContainer:"loading_animateContainer__CfH1D",loadingContainer:"loading_loadingContainer__X4oIT",item:"loading_item__0PBnV",spin:"loading_spin__YIIhx"}},5950:function(n){n.exports={container:"TransactionStatusHeader_container__1i8Sm",iconBackground:"TransactionStatusHeader_iconBackground__1LLWQ",animateContainer:"TransactionStatusHeader_animateContainer__m24AO",successBackground:"TransactionStatusHeader_successBackground__Y_hR4",pendingBackground:"TransactionStatusHeader_pendingBackground__Pwc3M",failedBackground:"TransactionStatusHeader_failedBackground__N2ZJr",svgIcon:"TransactionStatusHeader_svgIcon__4wrCv",animateCheck:"TransactionStatusHeader_animateCheck__9vIG3",iconShadow:"TransactionStatusHeader_iconShadow__as6lg",animateShadow:"TransactionStatusHeader_animateShadow__1SyL7",iconShadowSuccess:"TransactionStatusHeader_iconShadowSuccess__7ngWx",iconShadowFailed:"TransactionStatusHeader_iconShadowFailed__ZvKJa",iconShadowPending:"TransactionStatusHeader_iconShadowPending__XZ5oL"}}},function(n){n.O(0,[503,774,888,179],(function(){return e=8408,n(n.s=e);var e}));var e=n.O();_N_E=e}]);